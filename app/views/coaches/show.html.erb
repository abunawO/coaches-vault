<div class="container">
  <div class="surface surface--narrow center stack">
    <h1><%= @coach_profile.display_name %></h1>
    <% if @coach_profile.bio.present? %>
      <p class="muted coach-bio"><%= @coach_profile.bio %></p>
    <% end %>

    <div class="actions-row" style="justify-content: center;">
      <%= link_to "View Lessons", public_coach_lessons_path(@coach_profile.slug), class: "btn btn-primary" %>

      <% if logged_in? && current_user.student? %>
        <% if current_user.subscribed_to?(@coach) %>
          <%= button_to "Cancel subscription", cancel_coach_subscription_path(@coach), method: :delete, class: "btn btn-secondary" %>
        <% else %>
          <%= button_to "Subscribe", coach_subscription_path(@coach), method: :post, class: "btn btn-secondary" %>
        <% end %>
      <% elsif logged_in? && current_user.coach? %>
        <span class="muted">You are viewing your coach profile.</span>
      <% else %>
        <%= link_to "Log in to subscribe", login_path, class: "btn btn-secondary" %>
      <% end %>
    </div>
  </div>
</div>
